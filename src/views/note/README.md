# 笔记页面功能说明

## 📝 页面结构

笔记页面采用左右分栏布局，铺满整个屏幕：

```
┌─────────────────────────────────────────────────┐
│  左侧栏（文件夹管理）  │  右侧内容区域           │
│                        │                        │
│  - 新建文件夹按钮      │  未选择：欢迎页         │
│  - 文件夹列表          │  已选择：富文本编辑器   │
│    - 默认文件夹 🔒    │                        │
│    - 自定义文件夹      │                        │
│      - 笔记列表        │                        │
└─────────────────────────────────────────────────┘
```

## ✨ 核心功能

### 1. 左侧文件夹管理（NoteSidebar.vue）

#### 文件夹操作
- **新建文件夹**：点击顶部按钮，弹窗输入文件夹名称
- **展开/折叠**：点击文件夹标题切换展开状态
- **删除文件夹**：
  - 默认文件夹：显示锁图标 🔒，不可删除
  - 自定义文件夹：悬停显示删除按钮
  - 删除前确认，如果包含笔记会提示

#### 笔记操作
- **新建笔记**：在展开的文件夹下点击"新建笔记"
- **选择笔记**：点击笔记项切换到编辑模式
- **删除笔记**：悬停显示删除按钮，确认后删除
- **选中高亮**：当前选中的笔记显示主题色背景

### 2. 右侧内容区域

#### 欢迎页（NoteWelcome.vue）
当未选择任何笔记时显示：
- 平台介绍和功能说明
- 快速开始指南
- 精美的图标和卡片布局

#### 富文本编辑器（NoteEditor.vue）
选择笔记后显示 ByteMD 编辑器：
- **标题编辑**：顶部输入框编辑笔记标题
- **Markdown 编辑**：
  - 支持实时预览
  - 代码高亮
  - GFM 语法（表格、任务列表等）
  - 语法高亮显示
- **保存功能**：
  - 手动保存：点击右上角"保存"按钮
  - 自动保存：编辑后 3 秒自动保存
  - 快捷键：`Ctrl/Cmd + S`
  - 保存状态提示
- **离开提醒**：有未保存内容时离开页面会提示

## 🎨 样式特性

### 主题集成
- 完全使用项目主题变量（`--bg-*`, `--font-*`, `--theme-*`）
- 适配深色/浅色主题切换
- 统一的交互反馈效果

### 响应式设计
- 左侧栏固定宽度 256px
- 右侧内容区自适应剩余空间
- 滚动条自定义样式

### 动画效果
- 文件夹展开/折叠动画
- 笔记选中过渡效果
- 弹窗出现/消失动画
- 按钮悬停效果

## 🔧 技术实现

### 组件架构
```
src/views/note/
├── index.vue                    # 主页面容器
└── components/
    ├── NoteSidebar.vue         # 左侧文件夹管理
    ├── NoteWelcome.vue         # 欢迎页
    └── NoteEditor.vue          # 富文本编辑器
```

### 核心依赖
- **ByteMD**：Markdown 编辑器
  - `@bytemd/vue-next`：Vue 3 集成
  - `@bytemd/plugin-gfm`：GitHub 风格 Markdown
  - `@bytemd/plugin-highlight`：代码高亮
  - `@bytemd/plugin-frontmatter`：Front Matter 支持
- **Highlight.js**：代码语法高亮
- **Tailwind CSS**：样式框架

### 数据结构
```typescript
interface Note {
  id: string
  title: string
  content: string
  folderId: string
  createdAt: Date
  updatedAt: Date
}

interface Folder {
  id: string
  name: string
  isDefault: boolean
  notes: Note[]
}
```

## 🚀 使用示例

### 1. 创建笔记
```
1. 点击左侧"新建文件夹"或选择现有文件夹
2. 展开文件夹
3. 点击"新建笔记"
4. 在右侧编辑器中编写内容
5. 点击"保存"按钮或等待自动保存
```

### 2. 管理笔记
```
- 移动：通过删除和重新创建实现
- 重命名：编辑标题后保存
- 删除：悬停显示删除按钮
```

### 3. 编辑技巧
```markdown
# 一级标题
## 二级标题

**粗体** *斜体*

- 无序列表
1. 有序列表

[链接](https://example.com)
![图片](url)

​```javascript
// 代码块
const hello = 'world'
​```

> 引用

| 表格 | 示例 |
|------|------|
| 单元格 | 内容 |
```

## 📦 后续扩展

### 可以添加的功能
1. **文件夹拖拽**：支持拖拽笔记到不同文件夹
2. **搜索功能**：全局搜索笔记内容
3. **标签系统**：为笔记添加标签分类
4. **导出功能**：导出为 Markdown、PDF 等格式
5. **协作编辑**：多人实时协作
6. **版本历史**：查看和恢复历史版本
7. **图片上传**：直接粘贴或拖拽上传图片
8. **快捷键支持**：更多编辑快捷键
9. **模板系统**：笔记模板功能
10. **数据同步**：云端存储和同步

### 接入后端 API
```typescript
// 示例 API 接口
- GET    /api/folders           获取文件夹列表
- POST   /api/folders           创建文件夹
- DELETE /api/folders/:id       删除文件夹
- GET    /api/notes             获取笔记列表
- GET    /api/notes/:id         获取笔记详情
- POST   /api/notes             创建笔记
- PUT    /api/notes/:id         更新笔记
- DELETE /api/notes/:id         删除笔记
```

## 🎯 设计亮点

1. **用户体验优先**
   - 清晰的信息架构
   - 流畅的交互动画
   - 及时的操作反馈

2. **性能优化**
   - 组件懒加载
   - 虚拟滚动（可扩展）
   - 防抖节流处理

3. **可维护性**
   - 组件化设计
   - TypeScript 类型安全
   - 清晰的代码注释

4. **可扩展性**
   - 插件化编辑器
   - 灵活的数据结构
   - 预留扩展接口

## 🐛 已知问题

暂无

## 📝 更新日志

### v1.0.0 (2024-01-20)
- ✅ 初始版本发布
- ✅ 文件夹管理功能
- ✅ 笔记 CRUD 操作
- ✅ ByteMD 编辑器集成
- ✅ 自动保存功能
- ✅ 主题样式适配
